# 第二题（Q2）完整总结

## 一、解题思路

### 核心问题

**"哪种投票方法更偏向粉丝投票？"** - 对比排名制、百分比制和排名+评委拯救制三种规则对比赛结果的影响。

### 方法论：静态反事实分析（Static Counterfactual Analysis）

- **"多重宇宙"模拟器**：对历史上的每个周次（Week），保持输入数据不变（裁判打分和Q1估计的粉丝份额），应用三种不同的淘汰规则，观察"谁会被淘汰"
- **关键约束**：只分析历史上实际发生的每一周，不进行动态推演（不假设被淘汰选手在后续周次的虚构分数）
- **"上帝视角"数据**：使用Q1贝叶斯估计的粉丝份额作为事实基准

## 二、建模思路

### 三个平行宇宙的定义

1. **Universe A: 排名制（Rank System）** - 第1-2季规则
   - 逻辑：裁判排名 + 粉丝排名 = 总分数
   - 淘汰：总分最高者淘汰
   - 平局判定：总分相同时，粉丝排名较差者淘汰

2. **Universe B: 百分比制（Percent System）** - 第3-27季规则
   - 逻辑：裁判份额% + 粉丝份额% = 总份额%
   - 淘汰：总份额最小者淘汰
   - 特性：对极值敏感（Bobby Bones效应）

3. **Universe C: 排名+评委拯救制（Rank+Save）** - 第28-34季规则
   - 逻辑：先按排名制算出总分数
   - 识别Bottom 2（最后两名）
   - 在Bottom 2中，裁判分数高者被拯救，裁判分数低者被淘汰

### 关键建模细节

- **并列处理**：统一使用`method='average'`（并列第2名，排名均为2.5）
- **Bottom 2逻辑**：精确识别最后两名，处理平局情况
- **数据验证**：System C与第28-34季实际结果对比验证（83.93%准确率）

## 三、量化指标

### 1. 逆转率（Reversal Rate）

- 定义：排名制淘汰A而百分比制淘汰B的周次占比
- 结果：13.43%（1/7的周次结果不同）

### 2. 粉丝权重指数（Fan Power Index, FPI）

- 定义：最终排名与粉丝份额的Spearman相关系数（绝对值）
- 结果：
  - 百分比制：0.847（最高粉丝影响力）
  - 排名制：0.793
  - 排名+拯救制：0.793

### 3. 平庸存活率（Mediocrity Survival Rate）

- 定义：裁判分数倒数前三名的选手在该规则下的存活率
- **指标含义**：存活率越低，说明系统越有效淘汰低分选手（越公平）
- 结果：
  - 百分比制：71.09% → 对低分选手保护最强，形成"人气保护盾"
  - 排名制：68.30% → 中等保护
  - 排名+拯救制：**67.40%** → **最公正**（最有效淘汰低分选手）

### 4. 英才被杀率（Talent Elimination Rate）

- 定义：裁判分数前三名的选手被淘汰的比例
- **指标含义**：被杀率越低，说明系统越能保护高技术选手
- 结果：
  - 百分比制：4.50% → 保护最差
  - 排名制：3.20% → 中等保护
  - 排名+拯救制：**2.00%** → **最强技术保护**（"评委拯救"有效）

## 四、代码文件

### 核心脚本

- `src/rule_comparison.py`（~1028行） - 多重宇宙模拟器主程序
  - 数据加载与合并
  - 三种规则的具体实现
  - 指标计算（逆转率、FPI、平庸存活率、英才被杀率）
  - **新增**：4位名人案例分析框架（`analyze_celebrity_case`等6个函数）
  - 可视化生成（原有3张 + 新增6张名人图）
  - 验证与输出

### 依赖脚本

- `src/monte_carlo_bayesian_dirichlet.py` - Q1贝叶斯估计（提供粉丝份额数据）
- `src/data_processing.py` - 数据预处理
- `src/evaluate_models.py` - Q1模型评估

## 五、产出文件

### 数据文件（`results/question2/`）

1. `counterfactual_outcomes.csv` - 每周三种规则的淘汰结果
   - 包含13.43%的逆转率周次
   - 标记是否发生规则冲突（is_flipped）

2. `counterfactual_rankings.csv` - 每位选手每周的三种规则排名
   - 2777个选手-周次观察值
   - 包含是否为裁判低分选手标记

### 可视化文件（`results/plots/question2/`）

#### 系统对比图（3张）

1. `q2_fan_bias_comparison.png` - 粉丝权重指数对比图
   - 显示百分比制粉丝影响力最大（0.844）

2. `q2_merit_metrics.png` - 双指标对比图（替代原 merit_safety.png）
   - 左：平庸存活率（Save 67.40% 最低，金框高亮）
   - 右：英才被杀率（Save 2.00% 最低，金框高亮）

3. `q2_bobby_bones_survival.png` - Bobby Bones虚拟排名轨迹图
   - 显示在排名+拯救制下第8周被淘汰

#### 名人案例分析图（5张）

4. `q2_celebrity_jerry_rice_s2.png` - Jerry Rice (S2) 个案
   - 6/8周进入Bottom 3，Rank/Save下第7周淘汰

5. `q2_celebrity_billy_ray_cyrus_s4.png` - Billy Ray Cyrus (S4) 个案
   - 5/8周进入Bottom 3，三系统均第1周淘汰

6. `q2_celebrity_bristol_palin_s11.png` - Bristol Palin (S11) 个案
   - **8/10周进入Bottom 3**（题目提到的"12次"极端案例）
   - Percent下第10周淘汰，Rank/Save第5周淘汰

7. `q2_celebrity_bobby_bones_s27.png` - Bobby Bones (S27) 个案（优化版）
   - 7/9周进入Bottom 3，Save下第8周被淘汰

8. `q2_celebrity_combined.png` - 4人综合对比（2x2子图）
   - 一图展示所有争议名人的平行宇宙命运

### 分析报告

- `q2_counterfactual_report.md` - 完整分析报告（已修正Merit Safety Rate解读）

## 六、论文表述要点（中文）

### 摘要核心观点

1. **百分比制最偏向粉丝投票**（FPI=0.844），相比排名制（0.784）粉丝影响力提升7.7%
2. **规则敏感性中等**：14.63%的周次在不同规则下产生不同淘汰结果
3. **双指标验证Save系统最优**：
   - 平庸存活率67.40%（最低，最有效淘汰低分选手）
   - 英才被杀率2.00%（最低，最强技术保护）
4. **4位争议名人完整验证**：
   - Bobby Bones (S27)：Save下第8周淘汰，证明机制有效
   - Bristol Palin (S11)：Percent最大受益者（W10 vs W5）
   - Jerry Rice (S2) 和 Billy Ray Cyrus (S4)：早期案例验证

### 关键发现表述

#### 1. 系统级指标

- **百分比制的"人气保护盾"效应**：71.09%的低分选手存活率 + 4.50%的高分选手被杀率，双向证明粉丝主导
- **排名+拯救制的"双重保护"机制**：67.40%低分存活率（最低）+ 2.00%高分被杀率（最低），实现"淘弱保强"
- **规则变迁的合理性**：从百分比制回归排名制并引入评委拯救，有效平衡了娱乐性与技术性

#### 2. 名人案例验证（4位完整分析）

| 选手                | 赛季 | Bottom 3频率   | Rank淘汰周 | Percent淘汰周 | Save淘汰周 | 实际成绩 |
| ------------------- | ---- | -------------- | ---------- | ------------- | ---------- | -------- |
| **Jerry Rice**      | S2   | 6/8 (75%)      | W8         | W7            | W7         | 亚军     |
| **Billy Ray Cyrus** | S4   | 5/8 (63%)      | W1         | W1            | W1         | 第5名    |
| **Bristol Palin**   | S11  | **8/10 (80%)** | W5         | **W10**       | W5         | 第3名    |
| **Bobby Bones**     | S27  | 7/9 (78%)      | W9         | W9            | **W8**     | **冠军** |

**核心洞察**：

1. **Bristol Palin是Percent最大受益者**：实际第10周存活（最终第3名），而Rank/Save第5周淘汰，证明Percent系统对低技术高人气选手的极端保护
2. **Bobby Bones验证Save机制有效性**：在Save下提前1周被淘汰，印证2018年规则改革的必要性
3. **Billy Ray Cyrus三系统一致性**：技术-人气双低导致第1周即被淘汰，规则影响有限
4. **平均Bottom 3频率73%**：4位选手平均有3/4的周次进入裁判分最低档，依靠强大粉丝基础在Percent下存活更久

### 政策建议

1. **娱乐性优先**：推荐百分比制，最大化粉丝参与度，适合追求收视率和话题性的赛季
2. **技术性优先**：推荐排名+拯救制，保证舞蹈技术质量的公正评价
3. **平衡方案**：建议根据赛季主题灵活选择规则
